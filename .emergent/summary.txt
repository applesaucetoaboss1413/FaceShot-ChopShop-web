<analysis>original_problem_statement:
The user wants to build out the chop shop section of their website, which provides AI media manipulation tools.

PRODUCT REQUIREMENTS:
1.  **Research & Integration**: Research all tools and services provided by a2e.ai, including all possible adjustments (e.g., length, HD, 1080p).
2.  **Full Implementation**: Implement every available tool and adjustment from the user's existing SKU catalog into the chop shop section of the site. The current implementation with only 3 buttons is insufficient.
3.  **Pricing & Packaging**:
    *   All tools must align with the user's existing price model.
    *   Offer tools in dynamic combinations to create high-value packages for specific client profiles.
    *   Cater to two user types: those who want full creator control (all adjustments visible) and those who prefer an easy, automated process.
    *   Create a low-cost entry point (/bin/bash.99 or ) to attract new customers.
4.  **Database Persistence**: The current SQLite database loses all data on redeployment. This needs to be fixed, preferably with a free, persistent database solution.
5.  **UI/UX**: The user wants specific social media and app links (Facebook, Telegram Channel, Telegram Mini-app) to be more visible on the landing page, not at the bottom. The agent should not change UI text without permission.

**User's preferred language**: English

**what currently exists?**
The project is a full-stack application located in . It uses a Node.js/Express backend and a React.js frontend (JavaScript, not TypeScript). The application was using an ephemeral SQLite database () which caused data loss on every redeploy. The agent has begun a migration to a persistent MongoDB Atlas database, for which the user has provided a connection string. The frontend now lists all 20+ SKUs from the catalog but does not yet have the UI for individual tool adjustments.

**Last working item**:
- **Last item agent was working**: Migrating the backend from SQLite to MongoDB Atlas. The agent installed , created model and helper files (, ), set up the  file with the connection string, and began updating the main server file () to replace SQLite database calls with Mongoose operations. The migration is partially complete, with several API routes still needing to be updated.
- **Status**: IN PROGRESS
- **Agent Testing Done**: N
- **Which testing method agent to use?**: backend testing agent (after migration is fully complete)
- **User Testing Done**: N

**All Pending/In progress Issue list**:
-   **Issue 1**: The database migration from SQLite to MongoDB is incomplete, leaving the backend in a non-functional state. (Priority: P0)

**Issues Detail**:
-   **Issue 1**: Incomplete MongoDB Migration
    -   **Attempted fixes**: The agent successfully set up the MongoDB connection, models, and helper functions. It started replacing database calls in  but did not finish, especially for complex routes like .
    -   **Next debug checklist**:
        1.  Open .
        2.  Review all remaining  and  calls (from ).
        3.  Systematically replace each one with the equivalent asynchronous Mongoose function call using the schemas in  and helpers in .
        4.  Pay special attention to the logic in the  route to ensure the credit deduction and job creation logic is correctly translated.
        5.  Ensure all database functions are  and use .
    -   **Why fix this issue and what will be achieved with the fix?**: This is the highest priority issue. Fixing it will solve the user's critical problem of data loss on every deployment by making user data, jobs, and credits persistent.
    -   **Status**: IN PROGRESS
    -   **Is recurring issue?**: N
    -   **Should Test frontend/backend/both after fix?**: backend
    -   **Blocked on other issue**: None

**In progress Task List**:
-   **Task 1**: Complete the migration of the backend from SQLite to MongoDB Atlas. (Priority: P0)

**Task Detail**:
-   **Task 1**: Complete MongoDB Migration
    -   **Where to resume**: . Continue converting all remaining SQLite queries to Mongoose queries, focusing on the API routes section.
    -   **What will be achieved with this?**: A fully functional backend with a persistent database, solving the data loss problem.
    -   **Status**: IN PROGRESS
    -   **Should Test frontend/backend/both after fix?**: backend
    -   **Blocked on something**: No

**Upcoming and Future Tasks**
-   **Upcoming Tasks**:
    1.  **Implement Tool Adjustments UI (P0)**: For each of the 20+ tools in the Chop Shop, create UI components (sliders, dropdowns, toggles) to allow users to configure adjustments like video length, resolution (HD), aspect ratio, etc.
    2.  **Implement Simple vs. Advanced Modes (P1)**: Add a mechanism for users to choose between an easy automated process (with presets) and complete creator control (with all adjustments visible).
-   **Future Tasks**:
    1.  **Dynamic Tool Combinations (P2)**: Develop a system to offer bundled tools as packages that align with the existing pricing model.
    2.  **Create  Entry-Point Product (P2)**: Design and implement a simple, low-cost tool or service for /bin/bash.99-.00 to attract initial customers.

**Completed work in this session**
- **Codebase Correction**: Identified that the active, deployed project is in  (JavaScript) and not the unused  (TypeScript), redirecting all work to the correct location.
- **Tool Catalog Expansion**: Updated  to include all 20+ SKUs from .
- **UI Updates**:
    -   Reverted unauthorized text changes on the landing page ().
    -   Prominently added links to the user's Facebook page, Telegram channel, and Telegram mini-app on the landing page.
    -   Updated the  page to dynamically display all tools from the expanded catalog.
- **Database Migration (Initiated)**:
    -   Installed  for MongoDB integration.
    -   Created  to securely store the user-provided MongoDB Atlas connection string.
    -   Created  with Mongoose schemas for Users, Jobs, and Creations.
    -   Created  for reusable database functions.
    -   Started refactoring  to use MongoDB, partially completing the migration.

**Earlier issues found/mentioned but not fixed**
-   **Issue 1**: The primary user request to add adjustable parameters (length, HD, etc.) for each tool in the Chop Shop has not been implemented yet. The tools are listed, but the UI for customization is missing.
    -   **Debug checklist**:
        1.  Analyze the  to understand the available parameters for each SKU.
        2.  In , for each selected tool, dynamically render the appropriate input controls (sliders for length, dropdowns for resolution, etc.).
        3.  Update the state management in the React component to handle these new options.
        4.  Modify the backend  endpoint to accept these new parameters and pass them to the a2e.ai service.
    -   **Why to solve this issue and what will be achieved with this?**: This is a core feature request from the original problem statement and is essential for making the Chop Shop functional and appealing to users.
    -   **Should Test frontend/backend/both after fix?**: both
    -   **Is recurring issue?**: N

**Known issue recurrence from previous fork**
- None.

**Code Architecture**


**Key Technical Concepts**
-   **Frontend**: React.js
-   **Backend**: Node.js, Express.js
-   **Database**: Migrating from SQLite () to MongoDB Atlas ().
-   **Third-Party APIs**: a2e.ai, Stripe

**key DB schema**
-   **New Mongoose Schemas** (in ):
    -   : 
    -   : 
    -   : 

**changes in tech stack**
-   **Database**: SQLite () is being replaced by MongoDB Atlas ().

**All files of reference**
-   : The main backend file currently undergoing migration. **(CRITICAL, IN-PROGRESS)**
-   : Contains the new Mongoose schemas for the database. **(NEW)**
-   : Contains helper functions for MongoDB operations. **(NEW)**
-   : Stores the MongoDB connection string. **(NEW)**
-   : The Chop Shop UI page that needs adjustment controls added.
-   : The landing page that was reverted and updated with social links.
-   : The file defining all available tools and their parameters.

**Areas that need refactoring**:
- The monolithic backend file  should be broken down into a more maintainable structure (e.g., separate files for routes, controllers, and database connection logic).
- The unused  directory (TypeScript version) should be removed to avoid future confusion.

**key api endpoints**
-   
-   
-   
-   
-    (Critical endpoint for tool usage, requires significant updates for MongoDB and tool adjustments)

**Critical Info for New Agent**
1.  **Work in the Correct Directory**: ALL work must be done inside . The  directory is an old, unused version and should be ignored.
2.  **Complete the DB Migration First**: The highest priority is to complete the MongoDB migration in . The backend is currently broken. Refer to  and  to finish replacing all SQLite calls.
3.  **User Is Specific About UI**: Do not make unsolicited changes to the UI text or layout. The user previously requested a revert because the agent changed the landing page text without permission.
4.  **Next Feature**: After the database is fixed, the next major task is to implement the UI for tool adjustments (length, resolution, etc.) on the  page.

**documents and test reports created in this job**
-   

**Last 10 User Messages and any pending HUMAN messages**
1.  **User**: Why did you change the landing page text? I didn't ask for that. Revert it and add my social links (Facebook, Telegram) visibly.
2.  **Agent**: Acknowledged mistake, reverted text, and added social links.
3.  **User**: I thought there were 20+ SKUs?
4.  **Agent**: Confirmed user was correct, found the full SKU catalog and updated the UI to show all 20+ tools.
5.  **User**: I'm confused why you didn't add all the tools when I explicitly asked.
6.  **Agent**: Apologized and explained the error (was working in the wrong folder and missed the main SKU file).
7.  **User**: The database gets wiped on every redeploy. I need a persistent solution.
8.  **Agent**: Recommended MongoDB Atlas as the best free option and asked for a connection string.
9.  **User**: I've created the MongoDB Atlas database.
10. **Agent**: Provided instructions on how to get the connection string.
11. **User**: Provided the MongoDB connection string.
12. **Agent**: Began the database migration process.

**Project Health Check:**
-   **Broken**: The backend is non-functional due to an in-progress database migration from SQLite to MongoDB. API calls that rely on the database will fail.
-   **Mocked**: None.

**3rd Party Integrations**
-   **a2e.ai**: Core AI media generation service.
-   **Stripe**: For payments.
-   **MongoDB Atlas**: The new persistent database solution being integrated.

**Testing status**
-   **Testing agent used after significant changes**: NO
-   **Troubleshoot agent used after agent stuck in loop**: NO
-   **Test files created**: None
-   **Known regressions**: The entire backend database functionality is currently broken due to the incomplete migration.

**Credentials to test flow:**
N/A

**What agent forgot to execute**
- The agent has not yet started implementing the crucial feature of adding individual adjustments and controls (e.g., length, resolution, HD options) for each tool in the Chop Shop, which was a primary requirement in the original problem statement.</analysis>
